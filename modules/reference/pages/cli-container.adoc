[[ref-cli-uyuni-tools]]
= Uyuni Tools



[[uyuni-tools-description]]
== Description
The [package]``uyuni-tools`` package has components as subpackages with CLI tools:

[[uyuni-tools-components]]
.Uyuni Tools CLI Tool Components
[cols="1,1,1,1", options="header"]
|===
| Package name            | Tool name               | Installed on | Use for
| ``uyuni-tools``         | ``uyunictl``            | Host         | day-to-day operations against a containerized {productname} server
| ``uyuni-tools``         | ``uyuniadm``            | Host         | helps deployment and setup of a containerized {productname} Server
|===



[[uyuni-tools-usage]]
== Usage
[[uyuni-tools-start]]
=== Start a container

----
uyuniadm start --help
start command

Usage:
  uyuniadm start [flags]

Flags:
      --cert_city string           SSL Certificate City (default "Nuernberg")
      --cert_country string        SSL Certificate Country (default "DE")
      --cert_email string          SSL Certificate E-Mail (default "galaxy-noise@suse.de")
      --cert_org string            SSL Certificate Organization (default "SUSE")
      --cert_ou string             SSL Certificate Organization Unit (default "SUSE")
      --cert_pwd string            SSL Certificate Password (default "spacewalk")
      --cert_state string          SSL Certificate State (default "Bayern")
      --cert_use_existing string   Use Existing Certificate (default "N")
      --config string              Config JSON Filename (default "/etc/uyuni-tools/options.json")
      --dbhost string              Database Host (default "localhost")
      --dbname string              Database Name (default "susemanager")
      --dbport string              Database Port (default "5432")
      --dbprotocol string          Database Protocol (default "tcp")
      --email string               Manager E-Mail (default "galaxy-noise@suse.de")
  -h, --help                       help for start
      --hostname string            Hostname
      --name string                Container Name (default "uyuni-server")
      --namespace string           Namespace Image (default "registry.opensuse.org/systemsmanagement/uyuni/master/containers/uyuni/server")
      --password string            Manager Password (default "spacewalk")
      --podman_socket string       Podman Socket (default "unix://run/podman/podman.sock")
      --reportdbhost string        Report Database Host
      --reportdbpassword string    Report Database Password (default "pythia_susemanager")
      --tag string                 Tag Image (default "latest")
      --tftp string                Enable TFTP (default "Y")
      --user string                Manager User (default "spacewalk")

----

[[uyuni-tools-migrate]]
=== Migrate a container

----
uyuniadm migrate --help
migrate command

Usage:
  uyuniadm migrate [flags]

Flags:
      --cert_city string           SSL Certificate City (default "Nuernberg")
      --cert_country string        SSL Certificate Country (default "DE")
      --cert_email string          SSL Certificate E-Mail (default "galaxy-noise@suse.de")
      --cert_org string            SSL Certificate Organization (default "SUSE")
      --cert_ou string             SSL Certificate Organization Unit (default "SUSE")
      --cert_pwd string            SSL Certificate Password (default "spacewalk")
      --cert_state string          SSL Certificate State (default "Bayern")
      --cert_use_existing string   Use Existing Certificate (default "N")
      --config string              Config JSON Filename (default "/etc/uyuni-tools/options.json")
  -h, --help                       help for migrate
      --image string               Image (default "registry.opensuse.org/systemsmanagement/uyuni/master/containers/uyuni/server")
      --name string                Container Name (default "uyuni-server")
      --podman_socket string       Podman Socket (default "unix://run/podman/podman.sock")
      --server string              Hostname of the source server
      --ssh_auth_socket string     SSH_AUTH_SOCKET value
      --tag string                 Tag Image (default "latest")
      --user string                User used to login in source server
----

[[uyuni-tools-supportconfig]]
=== Supportconfig generation

. In the host system, run the command for generating supportconfig:
+
----
uyunictl exec "supportconfig"
----
+

. Copy supportconfig in your host system
+
----
uyunictl cp server:SUPPORTCONFIG_CONTAINER_PATH SUPPORTCONFIG_HOST_PATH
----
+
where [path]``SUPPORTCONFIG_HOST_PATH`` is the destination path in your host system.
